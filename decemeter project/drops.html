<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Drops — DECIMETER</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --black: #050505;
  --red: #e10600;
  --white: #ffffff;
  --glass: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.2);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Montserrat', sans-serif;
  background: radial-gradient(circle at top, #1a1a1a, #000);
  color: var(--white);
  min-height: 100vh;
}

.glass {
  background: var(--glass);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--border);
  border-radius: 22px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.7);
  padding: 18px;
  transition: 0.4s;
}

/* Header */
header {
  position: sticky;
  top: 20px;
  margin: 20px;
  padding: 18px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 100;
}

.logo {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.8rem;
  letter-spacing: 3px;
  cursor: pointer;
  color: var(--white);
  text-decoration: none;
}

.logo span { color: var(--red); }

/* User Status */
.user-status {
  display: flex;
  align-items: center;
  gap: 20px;
}

.user-status a {
  color: var(--white);
  text-decoration: none;
  opacity: 0.8;
  transition: 0.3s;
}

.user-status a:hover {
  color: var(--red);
  opacity: 1;
}

#userInfo {
  display: none;
  align-items: center;
  gap: 10px;
}

#userName {
  font-weight: 600;
}

.logout-btn {
  background: none;
  border: none;
  color: var(--red);
  cursor: pointer;
  font-size: 0.9rem;
  margin-left: 10px;
}

.logout-btn:hover {
  text-decoration: underline;
}

/* Navigation */
nav {
  display: flex;
  gap: 24px;
  align-items: center;
}

nav a {
  text-decoration: none;
  color: var(--white);
  opacity: 0.8;
  transition: 0.3s;
  font-weight: 500;
}

nav a:hover { color: var(--red); opacity: 1; }

.hamburger {
  display: none;
  flex-direction: column;
  cursor: pointer;
  z-index: 200;
}

.hamburger div {
  width: 25px;
  height: 3px;
  background-color: var(--white);
  margin: 4px 0;
  transition: 0.3s;
}

/* Drops Container */
.drops-container {
  padding: 40px 8vw;
}

.drops-header {
  margin-bottom: 50px;
  text-align: center;
}

.drops-header h1 {
  font-size: 2.8rem;
  color: var(--white);
  margin-bottom: 15px;
}

.drops-header h1 span { color: var(--red); }

.drops-header p {
  opacity: 0.7;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Drop Banner */
.drop-banner {
  position: relative;
  border-radius: 22px;
  overflow: hidden;
  margin-bottom: 50px;
  height: 400px;
}

.drop-banner-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.7);
}

.drop-banner-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 40px;
  background: linear-gradient(to top, rgba(5,5,5,0.9), transparent);
}

.drop-banner-content h2 {
  font-size: 2.5rem;
  margin-bottom: 10px;
}

.drop-banner-content p {
  opacity: 0.9;
  margin-bottom: 20px;
  max-width: 500px;
}

.countdown {
  display: flex;
  gap: 20px;
  margin-top: 25px;
}

.countdown-item {
  text-align: center;
  background: rgba(225,6,0,0.2);
  padding: 15px;
  border-radius: 12px;
  min-width: 80px;
}

.countdown-number {
  font-size: 2rem;
  font-weight: 700;
  color: var(--red);
  font-family: 'Orbitron', sans-serif;
}

.countdown-label {
  font-size: 0.9rem;
  opacity: 0.8;
  margin-top: 5px;
}

/* Upcoming Drops */
.upcoming-drops {
  margin-bottom: 60px;
}

.section-title {
  font-size: 2rem;
  margin-bottom: 30px;
  color: var(--white);
}

.section-title span { color: var(--red); }

.drops-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 30px;
}

.drop-card {
  padding: 20px;
  cursor: pointer;
  position: relative;
  display: flex;
  flex-direction: column;
}

.drop-card:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 0 40px rgba(225,6,0,0.4);
}

.drop-img {
  height: 300px;
  border-radius: 16px;
  margin-bottom: 20px;
  overflow: hidden;
  position: relative;
}

.drop-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 16px;
  transition: transform 0.5s;
}

.drop-card:hover .drop-img img {
  transform: scale(1.05);
}

.drop-status {
  position: absolute;
  top: 15px;
  left: 15px;
  padding: 6px 15px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  z-index: 2;
}

.status-coming { background: #2196f3; color: white; }
.status-live { background: var(--red); color: white; }

.drop-info {
  flex: 1;
}

.drop-name {
  font-weight: 700;
  font-size: 1.2rem;
  margin-bottom: 8px;
}

.drop-desc {
  opacity: 0.7;
  font-size: 0.95rem;
  margin-bottom: 15px;
  line-height: 1.5;
}

.drop-date {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
  opacity: 0.8;
  margin-bottom: 15px;
}

.drop-date i {
  color: var(--red);
}

.notify-btn {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.1);
  border: 1px solid var(--border);
  color: var(--white);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  margin-top: auto;
}

.notify-btn:hover {
  background: var(--red);
  border-color: var(--red);
}

.buy-btn {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  background: var(--red);
  border: none;
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  margin-top: auto;
}

.buy-btn:hover {
  background: #ff3b3b;
  transform: scale(1.05);
}

/* Past Drops */
.past-drops {
  margin-bottom: 60px;
}

/* Cart */
.cart {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 68px;
  height: 68px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  background: rgba(225,6,0,0.25);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(255,255,255,0.3);
  box-shadow: 0 0 40px rgba(0,0,0,0.7);
  z-index: 99;
  transition: transform 0.3s;
}

.cart:hover { transform: scale(1.1); }

.cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background: var(--red);
  color: white;
  font-size: 0.8rem;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
}

/* Footer */
footer {
  padding: 50px 20px;
  text-align: center;
  opacity: 0.6;
  border-top: 1px solid var(--border);
  margin-top: 60px;
}

/* Responsive */
@media(max-width:768px){
  nav {
    position: fixed;
    top: 0;
    right: -100%;
    height: 100vh;
    width: 280px;
    background: rgba(5,5,5,0.95);
    backdrop-filter: blur(20px);
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 30px;
    transition: right 0.3s ease;
    z-index: 150;
  }
  
  nav.show { right: 0; }
  
  .hamburger { display: flex; }
  .hamburger.active div:nth-child(1) { transform: rotate(-45deg) translate(-5px, 6px); }
  .hamburger.active div:nth-child(2) { opacity: 0; }
  .hamburger.active div:nth-child(3) { transform: rotate(45deg) translate(-5px, -6px); }
  
  .drop-banner {
    height: 300px;
  }
  
  .drop-banner-content {
    padding: 20px;
  }
  
  .drop-banner-content h2 {
    font-size: 1.8rem;
  }
  
  .countdown {
    gap: 10px;
    flex-wrap: wrap;
  }
  
  .countdown-item {
    min-width: 60px;
    padding: 10px;
  }
  
  .countdown-number {
    font-size: 1.5rem;
  }
  
  .drops-grid {
    grid-template-columns: 1fr;
  }
  
  .user-status {
    display: none;
  }
}

/* Login/Logout Styles */
#loginLink {
  display: inline-block;
}

#userInfo {
  display: none;
}
</style>
</head>
<body>

<!-- Header -->
<header class="glass">
  <a href="index.html" class="logo">DECI<span>METER</span></a>
  
  <!-- Hamburger Menu (Mobile) -->
  <div class="hamburger" id="hamburger">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <nav id="nav-links">
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="drops.html" class="active">Drops</a>
    <a href="about.html">About</a>
    <a href="cart.html">Cart</a>
    
    <!-- User Status -->
    <div class="user-status">
      <a href="login.html" id="loginLink">Login</a>
      <div id="userInfo">
        <span>Hi, <span id="userName"></span></span>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </div>
  </nav>
</header>

<!-- Drops Container -->
<div class="drops-container">
  <div class="drops-header">
    <h1>LIMITED <span>DROPS</span></h1>
    <p>Exclusive collections released for a limited time only. Get them before they're gone forever.</p>
  </div>

  <!-- Current Drop Banner -->
  <div class="drop-banner glass">
    <img src="images/drop-banner.jpg" alt="Shadow Collection Drop" class="drop-banner-img">
    <div class="drop-banner-content">
      <h2>SHADOW COLLECTION</h2>
      <p>Dark, liquid-inspired designs that blend streetwear with avant-garde aesthetics. Limited to 500 pieces worldwide.</p>
      <div class="countdown" id="countdown">
        <div class="countdown-item">
          <div class="countdown-number" id="days">03</div>
          <div class="countdown-label">DAYS</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="hours">12</div>
          <div class="countdown-label">HOURS</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="minutes">45</div>
          <div class="countdown-label">MINUTES</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="seconds">30</div>
          <div class="countdown-label">SECONDS</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Upcoming Drops -->
  <div class="upcoming-drops">
    <h2 class="section-title">UPCOMING <span>DROPS</span></h2>
    <div class="drops-grid" id="upcomingDrops">
      <!-- Upcoming drops loaded dynamically -->
    </div>
  </div>

  <!-- Past Drops -->
  <div class="past-drops">
    <h2 class="section-title">PAST <span>DROPS</span></h2>
    <div class="drops-grid" id="pastDrops">
      <!-- Past drops loaded dynamically -->
    </div>
  </div>
</div>

<!-- Floating Cart -->
<div class="cart" onclick="window.location.href='cart.html'">
  <i class="fas fa-shopping-bag"></i>
  <div class="cart-count" id="cartCount">0</div>
</div>

<!-- Footer -->
<footer>© 2026 DECIMETER — Youth Streetwear Culture</footer>

<script>
// User authentication functions
function checkLoginStatus() {
  try {
    const user = JSON.parse(localStorage.getItem('decimeterUser'));
    const loginLink = document.getElementById('loginLink');
    const userInfo = document.getElementById('userInfo');
    const userName = document.getElementById('userName');
    
    if (user && user.loggedIn) {
      // User is logged in
      if (loginLink) loginLink.style.display = 'none';
      if (userInfo) userInfo.style.display = 'flex';
      if (userName) userName.textContent = user.name || user.email;
    } else {
      // User is not logged in
      if (loginLink) loginLink.style.display = 'block';
      if (userInfo) userInfo.style.display = 'none';
    }
  } catch (e) {
    console.log('Error checking login status:', e);
  }
}

function logout() {
  localStorage.removeItem('decimeterUser');
  window.location.reload();
}

// Update cart count
function updateCartCount() {
  const cart = JSON.parse(localStorage.getItem('decimeterCart')) || [];
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  const cartCount = document.getElementById('cartCount');
  if (cartCount) {
    cartCount.textContent = totalItems;
  }
}

// Drop data
const dropsData = {
  upcoming: [
    {
      id: 101,
      name: "Shadow Collection",
      desc: "Dark, liquid-inspired designs that blend streetwear with avant-garde aesthetics.",
      date: "2026-02-15",
      status: "coming",
      image: "images/shadow-drop.jpg",
      price: "$89"
    },
    {
      id: 102,
      name: "Liquid Hoodie",
      desc: "Holographic reflective hoodie that changes color under different lighting.",
      date: "2026-02-28",
      status: "coming",
      image: "images/liquid-hoodie.jpg",
      price: "$120"
    },
    {
      id: 103,
      name: "Quantum Cargos",
      desc: "Techwear cargo pants with hidden pockets and modular attachments.",
      date: "2026-03-10",
      status: "coming",
      image: "images/quantum-cargos.jpg",
      price: "$95"
    }
  ],
  past: [
    {
      id: 201,
      name: "Cyberpunk Jacket",
      desc: "Neon-accented jacket with LED lighting system. Sold out in 2 hours.",
      date: "2026-01-10",
      status: "past",
      image: "images/cyberpunk-jacket.jpg",
      price: "$150"
    },
    {
      id: 202,
      name: "Ghost Tee",
      desc: "Glow-in-the-dark graphic tee. Limited edition of 300 pieces.",
      date: "2026-01-05",
      status: "past",
      image: "images/ghost-tee.jpg",
      price: "$35"
    },
    {
      id: 203,
      name: "Titan Pants",
      desc: "Reinforced workwear pants with Kevlar detailing.",
      date: "2025-12-20",
      status: "past",
      image: "images/titan-pants.jpg",
      price: "$110"
    }
  ]
};

// Load drops
function loadDrops() {
  // Upcoming drops
  const upcomingDrops = document.getElementById('upcomingDrops');
  if (upcomingDrops) {
    upcomingDrops.innerHTML = dropsData.upcoming.map(drop => `
      <div class="drop-card glass" data-id="${drop.id}">
        <div class="drop-img">
          <img src="${drop.image}" alt="${drop.name}">
          <div class="drop-status status-${drop.status}">COMING SOON</div>
        </div>
        <div class="drop-info">
          <div class="drop-name">${drop.name}</div>
          <div class="drop-desc">${drop.desc}</div>
          <div class="drop-date">
            <i class="far fa-calendar"></i>
            Drops: ${new Date(drop.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}
          </div>
          <div style="color: var(--red); font-weight: 700; margin-bottom: 15px;">${drop.price}</div>
        </div>
        <button class="notify-btn" onclick="notifyMe(${drop.id})">
          <i class="far fa-bell"></i> NOTIFY ME
        </button>
      </div>
    `).join('');
    
    // Add click event to drop cards
    document.querySelectorAll('.drop-card[data-id]').forEach(card => {
      card.addEventListener('click', function(e) {
        if (!e.target.closest('.notify-btn')) {
          const dropId = this.getAttribute('data-id');
          viewDropDetails(dropId);
        }
      });
    });
  }
  
  // Past drops
  const pastDrops = document.getElementById('pastDrops');
  if (pastDrops) {
    pastDrops.innerHTML = dropsData.past.map(drop => `
      <div class="drop-card glass" data-id="${drop.id}">
        <div class="drop-img">
          <img src="${drop.image}" alt="${drop.name}">
          <div class="drop-status" style="background: #666; color: white;">SOLD OUT</div>
        </div>
        <div class="drop-info">
          <div class="drop-name">${drop.name}</div>
          <div class="drop-desc">${drop.desc}</div>
          <div class="drop-date">
            <i class="far fa-calendar"></i>
            Dropped: ${new Date(drop.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}
          </div>
          <div style="color: var(--red); font-weight: 700; margin-bottom: 15px;">${drop.price}</div>
        </div>
        <button class="notify-btn" disabled style="opacity: 0.5; cursor: not-allowed;">
          <i class="fas fa-times-circle"></i> SOLD OUT
        </button>
      </div>
    `).join('');
  }
}

// Countdown timer
function updateCountdown() {
  const targetDate = new Date('2026-02-15T12:00:00').getTime();
  const now = new Date().getTime();
  const distance = targetDate - now;
  
  if (distance < 0) {
    document.getElementById('countdown').innerHTML = '<div style="padding: 20px; text-align: center;">DROP IS LIVE!</div>';
    return;
  }
  
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
  document.getElementById('days').textContent = days.toString().padStart(2, '0');
  document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
  document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
  document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
}

// Notify me function
function notifyMe(dropId) {
  event.stopPropagation();
  const drop = dropsData.upcoming.find(d => d.id === dropId) || dropsData.past.find(d => d.id === dropId);
  if (!drop) return;
  
  // Save notification preference
  const notifications = JSON.parse(localStorage.getItem('dropNotifications')) || [];
  if (!notifications.includes(dropId)) {
    notifications.push(dropId);
    localStorage.setItem('dropNotifications', JSON.stringify(notifications));
    
    // Show success message
    showNotification(`You'll be notified when ${drop.name} drops!`);
    
    // Update button
    const button = event.target.closest('.notify-btn');
    if (button) {
      button.innerHTML = '<i class="fas fa-check"></i> NOTIFIED';
      button.style.background = 'rgba(76, 175, 80, 0.2)';
      button.style.borderColor = '#4caf50';
      button.disabled = true;
    }
  }
  
  return false;
}

// View drop details
function viewDropDetails(dropId) {
  // For now, redirect to product page with drop ID
  // In a real implementation, this would show more details
  const drop = dropsData.upcoming.find(d => d.id === dropId) || dropsData.past.find(d => d.id === dropId);
  if (drop) {
    localStorage.setItem('selectedDrop', JSON.stringify(drop));
    // For drops that are products, redirect to product page
    if (dropId <= 103) {
      window.location.href = `product.html?id=${dropId}&type=drop`;
    }
  }
}

// Show notification
function showNotification(message) {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 30px;
    right: 30px;
    background: var(--red);
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    z-index: 1000;
    animation: slideIn 0.3s ease;
    font-weight: 600;
  `;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

// Hamburger menu
const hamburger = document.getElementById('hamburger');
const nav = document.getElementById('nav-links');

if (hamburger) {
  hamburger.addEventListener('click', () => {
    nav.classList.toggle('show');
    hamburger.classList.toggle('active');
  });
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  checkLoginStatus();
  updateCartCount();
  loadDrops();
  updateCountdown();
  
  // Update countdown every second
  setInterval(updateCountdown, 1000);
  
  // Add animation styles
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
});
</script>
</body>
</html>